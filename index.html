<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>STRATOS | ORBITAL COMMAND</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root { --n: #00f3ff; --a: #ff003c; --g: rgba(0, 15, 25, 0.7); }
        * { margin: 0; padding: 0; box-sizing: border-box; outline: none; }
        body { background: #000; color: var(--n); font-family: 'JetBrains Mono', monospace; height: 100vh; overflow: hidden; }

        /* Renderizador e Efeitos de Profundidade */
        #viewport { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 1; filter: saturate(1.2) contrast(1.1); }
        #scanline { position: fixed; width: 100%; height: 100%; z-index: 5; background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%), linear-gradient(90deg, rgba(255, 0, 0, 0.06), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.06)); background-size: 100% 4px, 3px 100%; pointer-events: none; }
        #overlay-fx { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 2; pointer-events: none; background: radial-gradient(circle, transparent 20%, #000 130%); }

        /* HUD Principal */
        #hud { position: relative; z-index: 10; height: 100%; display: flex; flex-direction: column; padding: 20px; pointer-events: none; }
        
        header { display: flex; justify-content: space-between; pointer-events: auto; }
        .glass-panel { background: var(--g); border: 1px solid rgba(0, 243, 255, 0.2); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px); border-radius: 4px; box-shadow: 0 0 40px rgba(0,0,0,0.5); }
        .stat-card { padding: 12px 20px; border-left: 5px solid var(--n); }
        .defcon { border: 2px solid var(--a); color: var(--a); padding: 10px 20px; font-family: 'Orbitron'; font-weight: 900; letter-spacing: 2px; text-shadow: 0 0 10px var(--a); }

        /* Terminal de InteligÃªncia Flutuante */
        #terminal { 
            flex-grow: 1; margin: 30px 0; overflow-y: auto; 
            padding: 10px; font-size: 0.75rem; display: flex; flex-direction: column-reverse;
            mask-image: linear-gradient(to top, black 80%, transparent 100%);
        }
        .log { margin-bottom: 8px; padding: 10px; background: rgba(0,243,255,0.05); border-left: 2px solid var(--n); font-weight: 500; text-transform: uppercase; }
        .log.critical { border-left-color: var(--a); background: rgba(255,0,61,0.1); color: #ff9999; }

        /* Deck de Comando Estilo 'Cockpit' */
        .cmd-deck { 
            background: var(--g); border: 1px solid rgba(0,243,255,0.3); 
            border-top: 5px solid var(--n); padding: 25px; pointer-events: auto;
            border-radius: 30px 30px 0 0; backdrop-filter: blur(25px);
            transform: translateY(0); transition: 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .select-box { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px; }
        select { width: 100%; background: #000; color: var(--n); border: 1px solid var(--n); padding: 15px; font-family: 'Orbitron'; font-size: 0.85rem; border-radius: 4px; }
        
        .btn-launch { 
            width: 100%; background: var(--a); color: #fff; border: none; padding: 22px; 
            font-family: 'Orbitron'; font-weight: 900; font-size: 1.2rem; letter-spacing: 5px;
            cursor: pointer; box-shadow: 0 10px 30px rgba(255,0,60,0.4);
            transition: 0.3s; clip-path: polygon(5% 0, 100% 0, 95% 100%, 0% 100%);
        }
        .btn-launch:active { transform: scale(0.95); background: #cc0033; }
    </style>
</head>
<body>

    <div id="viewport"></div>
    <div id="scanline"></div>
    <div id="overlay-fx"></div>

    <div id="hud">
        <header>
            <div class="glass-panel stat-card">
                <h1 style="font-family: 'Orbitron'; font-size: 1.2rem; color: #fff;">STRATOS <span style="color: var(--n);">SINGULARITY</span></h1>
                <p style="font-size: 0.55rem; letter-spacing: 2px; opacity: 0.7;">SISTEMA MILITAR DE ALTA VIGILÃ‚NCIA</p>
            </div>
            <div class="glass-panel defcon" id="defcon-lvl">DEFCON 5</div>
        </header>

        <div id="terminal"></div>

        <div class="cmd-deck">
            <div class="select-box">
                <div>
                    <label style="font-size: 0.6rem; display: block; margin-bottom: 8px; color: var(--n);">AGRESSOR PRINCIPAL</label>
                    <select id="atk-sel"></select>
                </div>
                <div>
                    <label style="font-size: 0.6rem; display: block; margin-bottom: 8px; color: var(--n);">ALVO ESTRATÃ‰GICO</label>
                    <select id="def-sel"></select>
                </div>
            </div>
            <button class="btn-launch" onclick="executeWar()">EXECUTAR SIMULAÃ‡ÃƒO</button>
        </div>
    </div>

<script>
// Lista de PaÃ­ses (Truncada para o exemplo)
const ALL_COUNTRIES = ["AfeganistÃ£o","Ãfrica do Sul","AlbÃ¢nia","Alemanha","Andorra","Angola","AntÃ­gua e Barbuda","ArÃ¡bia Saudita","ArgÃ©lia","Argentina","ArmÃªnia","AustrÃ¡lia","Ãustria","AzerbaijÃ£o","Bahamas","Bangladesh","Barbados","Barein","BÃ©lgica","Belize","Benim","BielorrÃºssia","BolÃ­via","BÃ³snia","Botswana","Brasil","Brunei","BulgÃ¡ria","Burkina Faso","Burundi","ButÃ£o","Cabo Verde","CamarÃµes","Camboja","CanadÃ¡","Catar","CazaquistÃ£o","Chade","Chile","China","Chipre","ColÃ´mbia","Comores","Congo","Coreia do Norte","Coreia do Sul","Costa Rica","Costa do Marfim","CroÃ¡cia","Cuba","Dinamarca","Djibouti","Dominica","Egito","El Salvador","Emirados Ãrabes","Equador","Eritreia","EslovÃ¡quia","EslovÃªnia","Espanha","Estados Unidos","EstÃ´nia","EtiÃ³pia","Fiji","Filipinas","FinlÃ¢ndia","FranÃ§a","GabÃ£o","GÃ¢mbia","Gana","GeÃ³rgia","Granada","GrÃ©cia","Guatemala","Guiana","GuinÃ©","GuinÃ©-Bissau","GuinÃ© Equatorial","Haiti","Holanda","Honduras","Hungria","IÃªmen","Ãndia","IndonÃ©sia","IrÃ£","Iraque","Irlanda","IslÃ¢ndia","Israel","ItÃ¡lia","Jamaica","JapÃ£o","JordÃ¢nia","Kiribati","Kuwait","Laos","Lesoto","LetÃ´nia","LÃ­bano","LibÃ©ria","LÃ­bia","Liechtenstein","LituÃ¢nia","Luxemburgo","MacedÃ´nia","Madagascar","MalÃ¡sia","Malawi","Maldivas","Mali","Malta","Marrocos","MaurÃ­cio","MauritÃ¢nia","MÃ©xico","Mianmar","MicronÃ©sia","MoÃ§ambique","MoldÃ¡via","MÃ´naco","MongÃ³lia","Montenegro","NamÃ­bia","Nauru","Nepal","NicarÃ¡gua","NÃ­ger","NigÃ©ria","Noruega","Nova ZelÃ¢ndia","OmÃ£","Palau","PanamÃ¡","Papua Nova GuinÃ©","PaquistÃ£o","Paraguai","Peru","PolÃ´nia","Portugal","QuÃªnia","QuirguistÃ£o","Reino Unido","RepÃºblica Centro-Africana","RepÃºblica Dominicana","RepÃºblica Tcheca","RomÃªnia","Ruanda","RÃºssia","Samoa","San Marino","Santa LÃºcia","SÃ£o CristÃ³vÃ£o","SÃ£o TomÃ©","SÃ£o Vicente","Senegal","Serra Leoa","SÃ©rvia","Singapura","SÃ­ria","SomÃ¡lia","Sri Lanka","SuazilÃ¢ndia","SudÃ£o","SudÃ£o do Sul","SuÃ©cia","SuÃ­Ã§a","Suriname","TailÃ¢ndia","TajiquistÃ£o","TanzÃ¢nia","Timor-Leste","Togo","Tonga","Trinidad e Tobago","TunÃ­sia","TurcomenistÃ£o","Turquia","Tuvalu","UcrÃ¢nia","Uganda","Uruguai","UzbequistÃ£o","Vanuatu","Vaticano","Venezuela","VietnÃ£","ZÃ¢mbia","ZimbÃ¡bue"];

let scene, camera, renderer, globe, clouds;

function initEngine() {
    scene = new THREE.Scene();
    camera = new THREE.PerspectiveCamera(40, window.innerWidth/window.innerHeight, 0.1, 1000);
    renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
    renderer.setSize(window.innerWidth, window.innerHeight);
    renderer.setPixelRatio(window.devicePixelRatio);
    document.getElementById('viewport').appendChild(renderer.domElement);

    // Globo Realista
    const geo = new THREE.SphereGeometry(5, 64, 64);
    const tex = new THREE.TextureLoader().load('https://threejs.org/examples/textures/planets/earth_atk_2048.jpg');
    const bump = new THREE.TextureLoader().load('https://threejs.org/examples/textures/planets/earth_normal_2048.jpg');
    const mat = new THREE.MeshPhongMaterial({ map: tex, bumpMap: bump, bumpScale: 0.15, specular: new THREE.Color('#111'), shininess: 5 });
    globe = new THREE.Mesh(geo, mat);
    scene.add(globe);

    // Luzes
    const ambient = new THREE.AmbientLight(0xffffff, 0.8); scene.add(ambient);
    const sun = new THREE.DirectionalLight(0xffffff, 1); sun.position.set(10, 10, 10); scene.add(sun);

    camera.position.z = 18;
}

function executeWar() {
    const a = document.getElementById('atk-sel').value;
    const d = document.getElementById('def-sel').value;
    if(a === d) return addLog("SISTEMA: Erro de alvo idÃªntico.", true);

    document.getElementById('defcon-lvl').innerText = "DEFCON 1";
    document.getElementById('defcon-lvl').style.background = "rgba(255,0,0,0.2)";
    
    // AnimaÃ§Ã£o de Zoom
    gsap.to(camera.position, { z: 12, duration: 1.2, ease: "power4.out" });
    gsap.to(globe.rotation, { y: globe.rotation.y + 2, duration: 1.5, ease: "power2.inOut" });

    addLog(`ðŸš¨ ALERTA: ${a} iniciou agressÃ£o contra ${d}.`);
    
    setTimeout(() => {
        const win = Math.random() > 0.5;
        if(win) {
            addLog(`âš¡ SUCESSO: ${a} estabeleceu domÃ­nio sobre ${d}.`, false);
        } else {
            addLog(`ðŸ›¡ï¸ FALHA: ${a} foi repelido pelas defesas de ${d}.`, true);
        }
        gsap.to(camera.position, { z: 18, duration: 2, ease: "power2.inOut" });
    }, 1500);
}

function addLog(msg, isCritical) {
    const t = document.getElementById('terminal');
    const l = document.createElement('div');
    l.className = `log ${isCritical ? 'critical' : ''}`;
    l.innerHTML = `> [${new Date().toLocaleTimeString()}] ${msg}`;
    t.prepend(l);
}

initEngine();
function animate() { requestAnimationFrame(animate); globe.rotation.y += 0.001; renderer.render(scene, camera); }
animate();

const sA = document.getElementById('atk-sel');
const sD = document.getElementById('def-sel');
ALL_COUNTRIES.sort().forEach(c => {
    sA.innerHTML += `<option>${c}</option>`;
    sD.innerHTML += `<option>${c}</option>`;
});
</script>
</body>
</html>
