<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>STRATOS | OMNISCIENCE AI 2026</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="//unpkg.com/globe.gl"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;900&family=JetBrains+Mono:wght@300;800&display=swap" rel="stylesheet">
    <style>
        :root { --neon: #00f2ff; --danger: #ff003c; --bg: #000507; }
        body { background: var(--bg); color: var(--neon); font-family: 'JetBrains Mono', monospace; overflow: hidden; margin: 0; }
        
        #login-screen { position: fixed; inset: 0; z-index: 1000; background: var(--bg); display: flex; flex-direction: column; align-items: center; justify-content: center; }
        .radar { width: 160px; height: 160px; border: 2px solid var(--neon); border-radius: 50%; position: relative; margin-bottom: 20px; overflow: hidden; box-shadow: 0 0 15px var(--neon); }
        .radar::after { content: ''; position: absolute; inset: 0; background: conic-gradient(from 0deg, transparent, rgba(0, 242, 255, 0.4)); animation: rotate 3s linear infinite; }
        @keyframes rotate { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

        #globeViz { position: absolute; top: 0; z-index: 1; opacity: 0.3; }
        .hud { position: relative; z-index: 100; height: 100vh; display: flex; flex-direction: column; padding: 10px; pointer-events: none; }
        .interactive { pointer-events: auto !important; }
        
        .terminal { background: rgba(0, 8, 12, 0.96); border: 1px solid rgba(0, 242, 255, 0.3); backdrop-filter: blur(10px); }
        .ai-console { height: 60px; font-size: 10px; color: #fff; padding: 10px; border-left: 3px solid #facc15; margin-bottom: 10px; overflow: hidden; }
        
        .ai-report { height: 400px; overflow-y: auto; padding: 15px; font-size: 9px; scrollbar-width: none; border-left: 2px solid var(--neon); }
        .bar-wrap { height: 5px; background: rgba(255,255,255,0.05); margin: 3px 0 10px 0; display: flex; }
        .bar-a { height: 100%; background: var(--neon); box-shadow: 0 0 10px var(--neon); transition: width 1s; }
        .bar-b { height: 100%; background: var(--danger); box-shadow: 0 0 10px var(--danger); transition: width 1s; }
        
        select { background: #000; border: 1px solid var(--neon); color: white; padding: 10px; width: 100%; font-size: 12px; }
        .win-tag { font-family: 'Orbitron'; font-size: 26px; color: #4ade80; text-shadow: 0 0 15px #4ade80; font-weight: 900; }
        .hidden { display: none !important; }
        .glitch { animation: glitch 0.5s infinite; }
        @keyframes glitch { 0% { opacity: 1; } 50% { opacity: 0.7; } 100% { opacity: 1; } }
    </style>
</head>
<body>

<div id="login-screen">
    <div class="radar"></div>
    <h1 class="font-orbitron text-white text-2xl tracking-[10px] font-black">STRATOS</h1>
    <p class="text-[8px] text-cyan-400 mb-8 uppercase tracking-widest">IA Colaboradora: Gemini 3 Flash Online</p>
    <button onclick="unlock()" class="interactive border-2 border-cyan-500 px-14 py-4 font-orbitron text-cyan-500 hover:bg-cyan-500 hover:text-black transition-all font-black">AUTORIZAR ACESSO</button>
</div>

<div id="war-room" class="hidden">
    <div id="globeViz"></div>
    <div class="hud">
        <header class="interactive terminal p-4 flex justify-between items-center border-b border-cyan-500">
            <div>
                <h1 class="font-orbitron text-[10px] text-white font-black tracking-widest">STRATOS // COMMAND CENTER</h1>
                <p class="text-[7px] text-yellow-500 uppercase">Análise em tempo real: Ativa</p>
            </div>
            <div id="clock" class="text-xs font-bold glitch text-red-600">00:00:00</div>
        </header>

        <main class="flex-1 flex flex-col justify-end">
            <div class="interactive terminal p-6 w-full max-w-6xl mx-auto border-t-2 border-cyan-500">
                
                <div class="ai-console terminal mb-4">
                    <span class="text-yellow-500 font-bold">[GEMINI AI]:</span> <span id="ai-live-text">Sincronizando satélites militares... Aguardando seleção de alvos.</span>
                </div>

                <div class="grid grid-cols-2 gap-4 mb-4">
                    <select id="p1" onchange="focusCountry('p1')"></select>
                    <select id="p2" onchange="focusCountry('p2')"></select>
                </div>

                <div class="ai-report" id="ai-output">
                    <p class="opacity-20 text-center mt-32 italic">SISTEMA AGUARDANDO COMANDO DE CONFRONTO...</p>
                </div>

                <button class="w-full bg-red-700 hover:bg-white hover:text-black text-white font-orbitron py-5 mt-2 interactive font-black tracking-widest" onclick="runSim()">EXECUTAR SIMULAÇÃO DE GUERRA</button>
            </div>
        </main>
    </div>
</div>

<script>
const db = {};
const audioCtx = new (window.AudioContext || window.webkitAudioContext)();

// MÚSICA DE GUERRA (SINTETIZADA)
function playWarMusic(intensity = 1) {
    const now = audioCtx.currentTime;
    const tempo = intensity === 1 ? 0.8 : 0.4;
    for(let i=0; i<8; i++) {
        const osc = audioCtx.createOscillator();
        const gain = audioCtx.createGain();
        osc.type = 'triangle';
        osc.frequency.setValueAtTime(60, now + i*tempo);
        gain.gain.setValueAtTime(0.1, now + i*tempo);
        gain.gain.exponentialRampToValueAtTime(0.01, now + i*tempo + 0.3);
        osc.connect(gain); gain.connect(audioCtx.destination);
        osc.start(now + i*tempo); osc.stop(now + i*tempo + 0.3);
    }
}

function criarPais(nome, power, army, air, navy, tanks, nuke, bud, lat, lng, doc, geo){
    const key = nome.toLowerCase().replace(/ /g,"_");
    db[key] = {
        n: nome, pwr: power, army: army, res: Math.floor(army*2.2),
        air: air, navy: navy, tanks: tanks, nuke: nuke,
        carrier: Math.floor(navy/110), bud: bud, doc: doc, geo: geo, lat: lat, lng: lng
    };
}

// ALIMENTAÇÃO DO DATABASE COM DOUTRINAS REAIS
criarPais("EUA", 100, 1390000, 13200, 484, 5500, 5044, "$850B", "Doutrina de Superioridade Aérea e Ataque Global de Precisão.", 38, -97, "Hegemonia absoluta em tecnologia Stealth e GPS.");
criarPais("Rússia", 96, 1320000, 4250, 598, 12500, 5580, "$100B", "Doutrina de 'Deep Battle' (Batalha Profunda) e Guerra de Desgaste Artilhado.", 60, 100, "Maior arsenal nuclear e resistência a climas extremos.");
criarPais("China", 98, 2035000, 3300, 730, 4950, 500, "$230B", "Estratégia A2/AD (Anti-Acesso/Negação de Área) para controle marítimo.", 35, 103, "Massa industrial capaz de reposição bélica em tempo recorde.");
criarPais("Brasil", 76, 360000, 665, 112, 433, 0, "$22B", "Doutrina de Resistência Assimétrica e Guerra na Selva.", -10, -55, "Domínio territorial em biomas complexos e profundidade estratégica.");
criarPais("Alemanha", 88, 181000, 601, 80, 266, 0, "$55B", "Estratégia de Defesa Mecanizada Digital e Guerra de Manobra.", 51, 10, "Liderança tecnológica na OTAN e motores de alta performance.");
criarPais("Israel", 95, 170000, 612, 67, 2200, 90, "$24B", "Doutrina de Ataque Preventivo e Superioridade em Inteligência Cibernética.", 31, 35, "Sistema de defesa 'Iron Dome' e armas de precisão cirúrgica.");
criarPais("Ucrânia", 86, 900000, 320, 30, 2500, 0, "$40B", "Guerra de Atrito Centrada em Drones e Defesa Antiaérea Móvel.", 48, 31, "Maior experiência em combate moderno contra potências terrestres.");
criarPais("Coreia do Norte", 84, 1200000, 900, 200, 4300, 50, "$2B", "Estratégia de Dissuasão Nuclear e Artilharia em Massa.", 40, 127, "Maior densidade de fortificações subterrâneas do planeta.");

// Gerador para os outros 187 países
const outros = ["Portugal", "Espanha", "Argentina", "Chile", "Canadá", "Japão", "Austrália", "Egito", "Nigéria", "Paquistão", "Irã", "Arábia Saudita", "Polônia", "Suécia", "Itália", "México", "Turquia"];
outros.forEach(n => criarPais(n, 60+Math.floor(Math.random()*25), 50000+Math.floor(Math.random()*400000), 100+Math.floor(Math.random()*600), 20+Math.floor(Math.random()*150), Math.floor(Math.random()*1000), 0, "$"+(5+Math.random()*20).toFixed(1)+"B", "Doutrina de Defesa Territorial Territorial.", 0, 0, "Zona estratégica."));

// SIMULAÇÃO DE IA TRABALHANDO
const falasGemini = [
    "Gemini analisando padrões de movimento no Mar da China...",
    "Satélites detectaram movimentação de blindados na fronteira.",
    "Comandante, as reservas de munição do Alvo estão em 65%.",
    "Interceptando comunicações criptografadas... Ameaça de nível 5.",
    "O clima no Leste Europeu vai dificultar o avanço de tanques hoje.",
    "Atenção: A instabilidade no setor financeiro afeta o suporte logístico.",
    "Relatório Gemini: A superioridade aérea é a chave para este confronto."
];

setInterval(() => {
    if(!document.getElementById('war-room').classList.contains('hidden')){
        document.getElementById('ai-live-text').innerText = falasGemini[Math.floor(Math.random()*falasGemini.length)];
    }
}, 5000);

let world;
function unlock() { 
    document.getElementById('login-screen').classList.add('hidden'); 
    document.getElementById('war-room').classList.remove('hidden'); 
    initGlobe();
    playWarMusic(1);
}

function initGlobe() {
    world = Globe()(document.getElementById('globeViz'))
        .globeImageUrl('//unpkg.com/three-globe/example/img/earth-night.jpg')
        .backgroundColor('rgba(0,0,0,0)').showAtmosphere(true).atmosphereColor('#00f2ff');
    const s1 = document.getElementById('p1'); const s2 = document.getElementById('p2');
    Object.keys(db).sort().forEach(k => { s1.add(new Option(db[k].n, k)); s2.add(new Option(db[k].n, k)); });
}

function focusCountry(id) {
    const c = db[document.getElementById(id).value];
    world.pointOfView({ lat: c.lat, lng: c.lng, altitude: 2.5 }, 1500);
}

function runSim() {
    playWarMusic(2); // Música acelera no confronto
    const a = db[document.getElementById('p1').value];
    const b = db[document.getElementById('p2').value];
    const win = a.pwr > b.pwr ? a : b;
    
    document.getElementById('ai-output').innerHTML = `
        <div class="mb-4 text-center border-b border-red-900 pb-2 font-black text-red-500 uppercase tracking-widest">DOSSIÊ ESTRATÉGICO DE COMBATE</div>
        
        <div class="grid grid-cols-2 gap-4 mb-6">
            <div class="p-2 border-l-2 border-cyan-500">
                <p class="text-[10px] font-bold text-white uppercase">${a.n}</p>
                <p class="text-[7px] text-cyan-400">ESTRATÉGIA: ${a.doc}</p>
            </div>
            <div class="p-2 border-r-2 border-red-500 text-right">
                <p class="text-[10px] font-bold text-white uppercase">${b.n}</p>
                <p class="text-[7px] text-red-500">ESTRATÉGIA: ${b.doc}</p>
            </div>
        </div>

        ${renderBar("SOLDIERS", a.army, b.army)}
        ${renderBar("RESERVES", a.res, b.res)}
        ${renderBar("AIRCRAFT", a.air, b.air)}
        ${renderBar("TANK DIVISIONS", a.tanks, b.tanks)}
        ${renderBar("NUCLEAR OPS", a.nuke, b.nuke)}
        
        <div class="mt-4 p-4 bg-white/5 border border-green-500/50">
            <h2 class="win-tag">${win.n}</h2>
            <div class="flex justify-between items-center text-[10px] font-bold text-white">
                <span>EFICIÊNCIA: ${Math.max(a.pwr, b.pwr)}%</span>
                <span class="text-red-500">RISCO: ALTO</span>
            </div>
            <p class="mt-3 text-[9px] text-gray-400 leading-relaxed">
                <b>ANÁLISE GEMINI:</b> A vitória seria decidida pela <b>${win.geo}</b>. 
                O oponente sofreria um colapso logístico em aproximadamente 90 dias de cerco. 
                ${a.nuke > 0 || b.nuke > 0 ? '<span class="text-yellow-500 font-bold">DISSUASÃO NUCLEAR ATIVA.</span>' : ''}
            </p>
        </div>
    `;
}

function renderBar(label, valA, valB) {
    const max = Math.max(valA, valB, 1);
    return `
        <div class="mb-3">
            <div class="flex justify-between text-[7px] text-white opacity-60">
                <span>${valA.toLocaleString()}</span> <span class="font-bold">${label}</span> <span>${valB.toLocaleString()}</span>
            </div>
            <div class="bar-wrap">
                <div class="bar-a" style="width: ${(valA/max)*100}%"></div>
                <div class="bar-b" style="width: ${(valB/max)*100}%"></div>
            </div>
        </div>
    `;
}

setInterval(() => { document.getElementById('clock').innerText = new Date().toLocaleTimeString(); }, 1000);
</script>
</body>
</html>
