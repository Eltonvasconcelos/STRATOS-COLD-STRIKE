<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>STRATOS | OMNISCIENT WAR CORE</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="//unpkg.com/globe.gl"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;900&family=JetBrains+Mono:wght@300;800&display=swap" rel="stylesheet">
    <style>
        :root { --neon: #00f2ff; --warn: #facc15; --danger: #ff003c; --bg: #000507; }
        body { background: var(--bg); color: var(--neon); font-family: 'JetBrains Mono', monospace; overflow: hidden; margin: 0; }
        #globeViz { position: absolute; top: 0; z-index: 1; opacity: 0.3; }
        .hud { position: relative; z-index: 100; height: 100vh; display: flex; flex-direction: column; padding: 10px; pointer-events: none; }
        .interactive { pointer-events: auto !important; }
        .terminal { background: rgba(0, 8, 12, 0.95); border: 1px solid rgba(0, 242, 255, 0.3); backdrop-filter: blur(10px); }
        .bar-wrap { height: 6px; background: rgba(255,255,255,0.05); margin: 4px 0 10px 0; display: flex; }
        .bar-a { height: 100%; background: var(--neon); box-shadow: 0 0 10px var(--neon); transition: width 1s; }
        .bar-b { height: 100%; background: var(--danger); box-shadow: 0 0 10px var(--danger); transition: width 1s; }
        .ai-report { height: 350px; overflow-y: auto; padding: 15px; font-size: 11px; line-height: 1.6; }
        select { background: #000; border: 1px solid var(--neon); color: white; padding: 8px; width: 100%; font-size: 11px; }
        .win-tag { font-family: 'Orbitron'; font-size: 24px; color: #4ade80; text-shadow: 0 0 15px #4ade80; }
    </style>
</head>
<body>

<div id="globeViz"></div>

<div class="hud">
    <header class="interactive terminal p-4 flex justify-between items-center border-b border-cyan-500">
        <div>
            <h1 class="font-orbitron text-[10px] font-black tracking-widest">STRATOS // IA DE COMANDO GLOBAL</h1>
            <p class="text-[7px] text-cyan-400">DATABASE MILITAR ATUALIZADO V.2026</p>
        </div>
        <div id="clock" class="text-xs font-bold">00:00:00</div>
    </header>

    <main class="flex-1 flex flex-col justify-end">
        <div class="interactive terminal p-6 w-full max-w-5xl mx-auto border-t-2 border-cyan-500">
            <div class="grid grid-cols-2 gap-4 mb-4">
                <select id="p1" onchange="focusCountry('p1')"></select>
                <select id="p2" onchange="focusCountry('p2')"></select>
            </div>

            <div class="ai-report" id="ai-output">
                <p class="opacity-50 text-center mt-20">> SISTEMA PRONTO. SELECIONE OS ALVOS PARA ANÁLISE...</p>
            </div>

            <button class="w-full bg-red-700 hover:bg-white hover:text-black text-white font-orbitron py-4 mt-2 interactive transition-all" onclick="iniciarGuerra()">INICIAR PROTOCOLO DE CONFLITO</button>
        </div>
    </main>
</div>

<script>
    // SISTEMA DE ÁUDIO (Música de Guerra Gerada por IA)
    const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    function playWarSound() {
        const osc = audioCtx.createOscillator();
        const gain = audioCtx.createGain();
        osc.type = 'sawtooth';
        osc.frequency.setValueAtTime(40, audioCtx.currentTime);
        osc.frequency.exponentialRampToValueAtTime(20, audioCtx.currentTime + 2);
        gain.gain.setValueAtTime(0.1, audioCtx.currentTime);
        gain.gain.linearRampToValueAtTime(0, audioCtx.currentTime + 2);
        osc.connect(gain); gain.connect(audioCtx.destination);
        osc.start(); osc.stop(audioCtx.currentTime + 2);
    }

    // DATABASE OMNISCIENTE (Expandido)
    const db = {
        usa: { n: "EUA", pwr: 100, army: 1390000, res: 442000, air: 13200, navy: 484, tanks: 5500, nuke: 5044, carrier: 11, lat: 38, lng: -97, doc: "Hegemonia tecnológica e projeção aérea total." },
        china: { n: "China", pwr: 98, army: 2035000, res: 510000, air: 3300, navy: 730, tanks: 4950, nuke: 500, carrier: 3, lat: 35, lng: 103, doc: "Saturação de mísseis e negação de área naval." },
        russia: { n: "Rússia", pwr: 96, army: 1320000, res: 2000000, air: 4250, navy: 598, tanks: 12500, nuke: 5580, carrier: 1, lat: 60, lng: 100, doc: "Artilharia massiva e dissuasão nuclear extrema." },
        brazil: { n: "Brasil", pwr: 75, army: 360000, res: 1340000, air: 665, navy: 112, tanks: 433, nuke: 0, carrier: 1, lat: -10, lng: -55, doc: "Guerra de selva e defesa de profundidade amazônica." },
        india: { n: "Índia", pwr: 89, army: 1450000, res: 1150000, air: 2200, navy: 295, tanks: 4600, nuke: 164, carrier: 2, lat: 21, lng: 78, doc: "Defesa de duas frentes e massa humana blindada." },
        israel: { n: "Israel", pwr: 92, army: 170000, res: 465000, air: 612, navy: 67, tanks: 2200, nuke: 90, carrier: 0, lat: 31, lng: 35, doc: "Inteligência Mossad e superioridade qualitativa aérea." },
        japan: { n: "Japão", pwr: 88, army: 247000, res: 56000, air: 1450, navy: 155, tanks: 580, nuke: 0, carrier: 4, lat: 36, lng: 138, doc: "Autodefesa tecnológica e guerra anti-submarina." },
        germany: { n: "Alemanha", pwr: 85, army: 181000, res: 34000, air: 601, navy: 80, tanks: 266, nuke: 0, carrier: 0, lat: 51, lng: 10, doc: "Pilar logístico europeu e engenharia tática." },
        uk: { n: "Reino Unido", pwr: 87, army: 150000, res: 80000, air: 664, navy: 75, tanks: 213, nuke: 225, carrier: 2, lat: 55, lng: -3, doc: "Projeção naval conjunta e forças especiais SAS." },
        france: { n: "França", pwr: 88, army: 205000, res: 35000, air: 1000, navy: 120, tanks: 222, nuke: 290, carrier: 1, lat: 46, lng: 2, doc: "Independência nuclear e força de intervenção rápida." },
        turkey: { n: "Turquia", pwr: 86, army: 425000, res: 200000, air: 1060, navy: 155, tanks: 2200, nuke: 0, carrier: 1, lat: 39, lng: 35, doc: "Domínio de drones TB2 e controle do Bósforo." },
        iran: { n: "Irã", pwr: 82, army: 610000, res: 350000, air: 540, navy: 100, tanks: 4000, nuke: 0, carrier: 0, lat: 32, lng: 53, doc: "Guerra assimétrica e enxames de mísseis balísticos." },
        north_korea: { n: "Coreia do Norte", pwr: 80, army: 1280000, res: 600000, air: 950, navy: 450, tanks: 6600, nuke: 50, carrier: 0, lat: 40, lng: 127, doc: "Fortificação total e artilharia focada em Seul." }
    };

    let world;
    function initGlobe() {
        world = Globe()(document.getElementById('globeViz'))
            .globeImageUrl('//unpkg.com/three-globe/example/img/earth-night.jpg')
            .backgroundColor('rgba(0,0,0,0)').showAtmosphere(true).atmosphereColor('#00f2ff');
        
        const s1 = document.getElementById('p1'); const s2 = document.getElementById('p2');
        Object.keys(db).forEach(k => {
            s1.add(new Option(db[k].n, k)); s2.add(new Option(db[k].n, k));
        });
    }

    function focusCountry(id) {
        const c = db[document.getElementById(id).value];
        world.pointOfView({ lat: c.lat, lng: c.lng, altitude: 2.2 }, 1500);
    }

    function iniciarGuerra() {
        playWarSound();
        const a = db[document.getElementById('p1').value];
        const b = db[document.getElementById('p2').value];
        const out = document.getElementById('ai-output');

        const total = a.pwr + b.pwr;
        const probA = Math.round((a.pwr / total) * 100);
        const probB = 100 - probA;
        const vencedor = probA > probB ? a : b;

        let res = `
            <div class="mb-4 text-center border-b border-cyan-800 pb-2 font-bold text-white">RELATÓRIO DE INTELIGÊNCIA</div>
            <div class="flex justify-between text-[8px] uppercase font-black text-cyan-400">
                <span>${a.n}</span> <span class="text-white">vs</span> <span>${b.n}</span>
            </div>
            
            ${renderBar("SOLDIERS", a.army, b.army, 2035000)}
            ${renderBar("AIRCRAFT", a.air, b.air, 13200)}
            ${renderBar("TANKS", a.tanks, b.tanks, 12500)}
            ${renderBar("NUKES", a.nuke, b.nuke, 5580)}
            ${renderBar("CARRIERS", a.carrier, b.carrier, 11)}

            <div class="mt-6 bg-red-950/30 p-4 border border-red-500">
                <p class="text-[9px] uppercase tracking-widest text-white mb-2">Veredito do General STRATOS:</p>
                <div class="flex justify-between items-end">
                    <div>
                        <span class="win-tag">${vencedor.n}</span>
                        <p class="text-white text-[10px] font-bold">${probA > probB ? probA : probB}% DE CHANCE DE VITÓRIA</p>
                    </div>
                </div>
                <p class="mt-4 text-[9px] text-white opacity-80 italic">"Análise tática: O conflito seria decidido pela ${vencedor.doc} Em um cenário real, ${a.nuke > 0 || b.nuke > 0 ? 'o risco de inverno nuclear é de 94%' : 'seria uma guerra de atrito convencional prolongada'}."</p>
            </div>
        `;
        out.innerHTML = res;
    }

    function renderBar(label, valA, valB, max) {
        return `
            <div class="mt-3">
                <div class="flex justify-between text-[7px] text-white">
                    <span>${valA.toLocaleString()}</span> <span class="opacity-50">${label}</span> <span>${valB.toLocaleString()}</span>
                </div>
                <div class="bar-wrap">
                    <div class="bar-a" style="width: ${(valA/max)*100}%"></div>
                    <div class="bar-b" style="width: ${(valB/max)*100}%"></div>
                </div>
            </div>
        `;
    }

    window.onload = initGlobe;
    setInterval(() => { document.getElementById('clock').innerText = new Date().toLocaleTimeString(); }, 1000);
</script>
</body>
</html>
