<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>STRATOS v18 | TOTAL CONTROL</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;900&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root { --n: #00f3ff; --a: #ff003c; --intel: #ffaa00; --win: #00ff88; }
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'JetBrains Mono', monospace; }
        body { background: #000; color: var(--n); height: 100vh; overflow: hidden; }

        /* TELA INICIAL (LOGIN BIOM√âTRICO) */
        #login-screen {
            position: fixed; inset: 0; z-index: 5000; background: radial-gradient(circle, #001a1a 0%, #000 100%);
            display: flex; flex-direction: column; align-items: center; justify-content: center; transition: 1.2s cubic-bezier(0.7, 0, 0.3, 1);
        }
        .bio-scanner {
            width: 180px; height: 180px; border: 3px solid var(--n); border-radius: 50%;
            display: flex; align-items: center; justify-content: center; position: relative;
            box-shadow: 0 0 50px rgba(0,243,255,0.2); margin-bottom: 30px;
        }
        .scan-line {
            position: absolute; width: 110%; height: 4px; background: var(--n);
            box-shadow: 0 0 20px var(--n); animation: scan-anim 2.5s ease-in-out infinite;
        }
        @keyframes scan-anim { 0%, 100% { top: 10%; } 50% { top: 90%; } }

        /* INTERFACE PRINCIPAL */
        #main-ui { opacity: 0; visibility: hidden; transition: 2s; }

        /* INTEL FEED EXPANDIDO (TOP) */
        #intel-feed {
            position: absolute; top: 15px; left: 10px; right: 10px; height: 160px; /* Aumentado */
            z-index: 400; overflow-y: auto; background: rgba(0,0,0,0.8); 
            border: 1px solid rgba(0,243,255,0.3); border-top: 4px solid var(--intel);
            padding: 10px; backdrop-filter: blur(10px);
        }
        .msg-real { color: var(--intel); font-size: 0.65rem; margin-bottom: 6px; border-bottom: 1px solid rgba(255,170,0,0.1); padding-bottom: 2px; }

        /* √ÅREA DE OPERA√á√ïES (Onde voc√™ sublinhou) */
        #ops-center {
            position: absolute; top: 190px; left: 10px; right: 10px; height: 180px;
            z-index: 400; background: rgba(0,15,25,0.7); border: 1px solid var(--n);
            border-radius: 5px; padding: 12px; overflow-y: auto; backdrop-filter: blur(8px);
        }
        .win-tag { color: var(--win); font-weight: 900; font-size: 0.9rem; font-family: 'Orbitron'; margin: 5px 0; }

        #viewport { position: absolute; inset: 0; z-index: 1; }

        /* DECK DE COMANDO */
        #deck { position: absolute; bottom: 0; width: 100%; z-index: 500; background: #000; padding: 20px; border-top: 2px solid var(--n); }
        .btn-main { 
            width: 100%; background: var(--a); color: #fff; border: none; padding: 18px; 
            font-family: 'Orbitron'; font-weight: 900; letter-spacing: 2px;
            clip-path: polygon(5% 0, 100% 0, 95% 100%, 0 100%);
        }
        select { background: #111; color: var(--n); border: 1px solid var(--n); padding: 12px; width: 100%; margin-bottom: 10px; border-radius: 4px; }
    </style>
</head>
<body>

    <div id="login-screen">
        <div class="bio-scanner">
            <div class="scan-line"></div>
            <span style="font-size: 3rem; filter: drop-shadow(0 0 10px var(--n));">üëÅÔ∏è</span>
        </div>
        <h2 style="font-family:'Orbitron'; color: var(--n); letter-spacing: 4px;">AUTENTICA√á√ÉO REQUERIDA</h2>
        <p style="font-size: 0.6rem; opacity: 0.5; margin: 15px 0 30px;">STRATOS SECURITY PROTOCOL v18.0</p>
        <button class="btn-main" style="background:none; border: 1px solid var(--n); width:auto; padding: 15px 50px;" onclick="accessSystem()">INICIAR SCANNER</button>
    </div>

    <div id="main-ui">
        <div id="intel-feed">
            <p style="font-size: 0.5rem; color: var(--intel); margin-bottom: 5px;">[ TRANSMISS√ÉO GLOBAL LIVE 24H ]</p>
            <div id="news-container"></div>
        </div>

        <div id="ops-center">
            <p style="font-size: 0.5rem; opacity: 0.4;">[ RELAT√ìRIOS DE SIMULA√á√ÉO T√ÅTICA ]</p>
            <div id="battle-history"></div>
        </div>

        <div id="viewport"></div>

        <div id="deck">
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                <select id="atq"></select>
                <select id="def"></select>
            </div>
            <button class="btn-main" onclick="runWar()">EXECUTAR CONFLITO</button>
        </div>
    </div>

<script>
// LISTA DE PA√çSES (100% MANTIDA)
const PAISES = ["Afeganist√£o","√Åfrica do Sul","Alb√¢nia","Alemanha","Andorra","Angola","Ant√≠gua e Barbuda","Ar√°bia Saudita","Arg√©lia","Argentina","Arm√™nia","Austr√°lia","√Åustria","Azerbaij√£o","Bahamas","Bangladesh","Barbados","Barein","B√©lgica","Belize","Benim","Bielorr√∫ssia","Bol√≠via","B√≥snia","Botswana","Brasil","Brunei","Bulg√°ria","Burkina Faso","Burundi","But√£o","Cabo Verde","Camar√µes","Camboja","Canad√°","Catar","Cazaquist√£o","Chade","Chile","China","Chipre","Col√¥mbia","Comores","Congo","Coreia do Norte","Coreia do Sul","Costa Rica","Costa do Marfim","Cro√°cia","Cuba","Dinamarca","Djibouti","Dominica","Egito","El Salvador","Emirados √Årabes","Equador","Eritreia","Eslov√°quia","Eslov√™nia","Espanha","Estados Unidos","Est√¥nia","Eti√≥pia","Fiji","Filipinas","Finl√¢ndia","Fran√ßa","Gab√£o","G√¢mbia","Gana","Ge√≥rgia","Granada","Gr√©cia","Guatemala","Guiana","Guin√©","Guin√©-Bissau","Guin√© Equatorial","Haiti","Holanda","Honduras","Hungria","I√™men","√çndia","Indon√©sia","Ir√£","Iraque","Irlanda","Isl√¢ndia","Israel","It√°lia","Jamaica","Jap√£o","Jord√¢nia","Kiribati","Kuwait","Laos","Lesoto","Let√¥nia","L√≠bano","Lib√©ria","L√≠bia","Liechtenstein","Litu√¢nia","Luxemburgo","Maced√¥nia","Madagascar","Mal√°sia","Malawi","Maldivas","Mali","Malta","Marrocos","Maur√≠cio","Maurit√¢nia","M√©xico","Mianmar","Micron√©sia","Mo√ßambique","Mold√°via","M√¥naco","Mong√≥lia","Montenegro","Nam√≠bia","Nauru","Nepal","Nicar√°gua","N√≠ger","Nig√©ria","Noruega","Nova Zel√¢ndia","Om√£","Palau","Panam√°","Papua Nova Guin√©","Paquist√£o","Paraguai","Peru","Pol√¥nia","Portugal","Qu√™nia","Quirguist√£o","Reino Unido","Rep√∫blica Centro-Africana","Rep√∫blica Dominicana","Rep√∫blica Tcheca","Rom√™nia","Ruanda","R√∫ssia","Samoa","San Marino","Santa L√∫cia","S√£o Crist√≥v√£o","S√£o Tom√©","S√£o Vicente","Senegal","Serra Leoa","S√©rvia","Singapura","S√≠ria","Som√°lia","Sri Lanka","Suazil√¢ndia","Sud√£o","Sud√£o do Sul","Su√©cia","Su√≠√ßa","Suriname","Tail√¢ndia","Tajiquist√£o","Tanz√¢nia","Timor-Leste","Togo","Tonga","Trinidad e Tobago","Tun√≠sia","Turcomenist√£o","Turquia","Tuvalu","Ucr√¢nia","Uganda","Uruguai","Uzbequist√£o","Vanuatu","Vaticano","Venezuela","Vietn√£","Z√¢mbia","Zimb√°bue"];

const INTEL_DB = [
    "R√öSSIA: Novas divis√µes blindadas detectadas na fronteira.",
    "MAR DO SUL DA CHINA: Porta-avi√µes EUA entra em modo de sil√™ncio.",
    "ORIENTE M√âDIO: Alerta nuclear elevado ap√≥s teste n√£o identificado.",
    "EUROPA: Ataque hacker massivo derruba sistemas banc√°rios.",
    "√ÅFRICA: Movimenta√ß√£o de mercen√°rios em zonas de minera√ß√£o."
];

let audioCtx, drone, music;

function setupAudio() {
    if(audioCtx) return;
    audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    
    // DRONE GRAVE (Tens√£o)
    drone = audioCtx.createOscillator();
    const gDrone = audioCtx.createGain();
    drone.type = 'sine';
    drone.frequency.setValueAtTime(45, audioCtx.currentTime);
    gDrone.gain.setValueAtTime(0.05, audioCtx.currentTime);
    drone.connect(gDrone).connect(audioCtx.destination);
    drone.start();

    // RU√çDO DE SUSPENSE (M√∫sica)
    music = audioCtx.createOscillator();
    const gMusic = audioCtx.createGain();
    music.type = 'triangle';
    music.frequency.setValueAtTime(60, audioCtx.currentTime);
    gMusic.gain.setValueAtTime(0.02, audioCtx.currentTime);
    music.connect(gMusic).connect(audioCtx.destination);
    music.start();

    // Oscila√ß√£o da m√∫sica para dar tens√£o
    setInterval(() => {
        music.frequency.exponentialRampToValueAtTime(Math.random() * 40 + 50, audioCtx.currentTime + 2);
    }, 2000);
}

function accessSystem() {
    setupAudio();
    gsap.to("#login-screen", { scale: 1.5, opacity: 0, duration: 1.2, ease: "power4.in", onComplete: () => {
        document.getElementById('login-screen').style.display = 'none';
        document.getElementById('main-ui').style.visibility = 'visible';
        document.getElementById('main-ui').style.opacity = '1';
        initThree();
    }});
}

let scene, camera, renderer, globe;

function initThree() {
    scene = new THREE.Scene();
    camera = new THREE.PerspectiveCamera(45, window.innerWidth/window.innerHeight, 0.1, 1000);
    renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
    renderer.setSize(window.innerWidth, window.innerHeight);
    document.getElementById('viewport').appendChild(renderer.domElement);

    const loader = new THREE.TextureLoader();
    globe = new THREE.Mesh(
        new THREE.SphereGeometry(5, 64, 64),
        new THREE.MeshPhongMaterial({
            map: loader.load('https://threejs.org/examples/textures/planets/earth_atk_2048.jpg'),
            bumpMap: loader.load('https://threejs.org/examples/textures/planets/earth_specular_2048.jpg'),
            bumpScale: 0.1
        })
    );
    scene.add(globe);
    scene.add(new THREE.AmbientLight(0x444444), new THREE.DirectionalLight(0xffffff, 1.2));
    camera.position.z = 15;

    // News Feed Loop
    setInterval(() => {
        const container = document.getElementById('news-container');
        const d = document.createElement('div');
        d.className = "msg-real";
        d.innerText = `> [LOG ${new Date().toLocaleTimeString()}] ${INTEL_DB[Math.floor(Math.random()*INTEL_DB.length)]}`;
        container.prepend(d);
    }, 6000);

    animate();
}

function animate() {
    requestAnimationFrame(animate);
    globe.rotation.y += 0.0008;
    renderer.render(scene, camera);
}

function runWar() {
    const a = document.getElementById('atq').value;
    const d = document.getElementById('def').value;
    if(a === d) return;

    const prob = Math.floor(Math.random() * 101);
    const vencedor = prob > 50 ? a : d;
    const perdedor = vencedor === a ? d : a;

    const hist = document.getElementById('battle-history');
    const card = document.createElement('div');
    card.style.marginBottom = "12px";
    card.innerHTML = `
        <div style="font-size:0.6rem; color:#fff; opacity:0.7;">‚öîÔ∏è OPERA√á√ÉO: ${a} vs ${d}</div>
        <div class="win-tag">VENCEDOR: ${vencedor}</div>
        <div style="font-size:0.55rem; color:var(--win);">PROBABILIDADE DE VIT√ìRIA: ${prob}%</div>
        <div style="font-size:0.55rem; color:var(--a);">STATUS: For√ßas de ${perdedor} em colapso.</div>
    `;
    hist.prepend(card);
}

PAISES.sort().forEach(p => {
    document.getElementById('atq').innerHTML += `<option>${p}</option>`;
    document.getElementById('def').innerHTML += `<option>${p}</option>`;
});
</script>
</body>
</html>
